# TradeFan é¡¹ç›®é‡æ„æ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡

è§£å†³é¡¹ç›®ä¸­çš„ä»£ç é‡å¤ã€ç»“æ„æ··ä¹±ã€ç¼ºä¹æŠ½è±¡ç­‰é—®é¢˜ï¼Œæå‡ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ã€‚

## ğŸ“Š é‡æ„å‰åå¯¹æ¯”

### ä»£ç é‡å¯¹æ¯”
| é¡¹ç›® | é‡æ„å‰ | é‡æ„å | å‡å°‘ |
|------|--------|--------|------|
| å¯åŠ¨è„šæœ¬ | 200+ è¡Œ | ~50 è¡Œ | 75% |
| ç­–ç•¥å¼€å‘ | 500+ è¡Œ | ~100 è¡Œ | 80% |
| APIè°ƒç”¨ä»£ç  | åˆ†æ•£åœ¨å„æ–‡ä»¶ | ç»Ÿä¸€å°è£… | 90% |
| é…ç½®ç®¡ç† | é‡å¤å®ç° | ç»Ÿä¸€ç®¡ç† | 80% |
| æ—¥å¿—å¤„ç† | ä¸ä¸€è‡´ | æ ‡å‡†åŒ– | 70% |

### æ–‡ä»¶ç»“æ„å¯¹æ¯”
```
é‡æ„å‰:
â”œâ”€â”€ 20+ ä¸ªå¯åŠ¨è„šæœ¬ (å¤§é‡é‡å¤ä»£ç )
â”œâ”€â”€ modules/ (èŒè´£ä¸æ¸…)
â”œâ”€â”€ strategies/ (å„è‡ªä¸ºæ”¿)
â”œâ”€â”€ é…ç½®åˆ†æ•£åœ¨å„å¤„
â””â”€â”€ ç¼ºä¹ç»Ÿä¸€å…¥å£

é‡æ„å:
â”œâ”€â”€ core/ (æ ¸å¿ƒåŸºç¡€è®¾æ–½)
â”‚   â”œâ”€â”€ api_client.py (ç»Ÿä¸€APIå®¢æˆ·ç«¯)
â”‚   â”œâ”€â”€ config_manager.py (é…ç½®ç®¡ç†å™¨)
â”‚   â”œâ”€â”€ logger.py (æ—¥å¿—ç®¡ç†å™¨)
â”‚   â”œâ”€â”€ trading_executor.py (äº¤æ˜“æ‰§è¡Œå™¨åŸºç±»)
â”‚   â”œâ”€â”€ strategy_base.py (ç­–ç•¥åŸºç±» v2.0) â­ NEW
â”‚   â”œâ”€â”€ strategy_manager.py (ç­–ç•¥ç®¡ç†å™¨) â­ NEW
â”‚   â”œâ”€â”€ strategy_examples.py (ç­–ç•¥å®ç°ç¤ºä¾‹) â­ NEW
â”‚   â””â”€â”€ indicators.py (æŠ€æœ¯æŒ‡æ ‡)
â”œâ”€â”€ examples/ (ä½¿ç”¨ç¤ºä¾‹)
â”œâ”€â”€ config/ (ç»Ÿä¸€é…ç½®)
â””â”€â”€ åŸæœ‰æ¨¡å—ä¿æŒå…¼å®¹
```

## ğŸš€ ç¬¬ä¸€æ­¥é‡æ„æˆæœ

### 1. æ ¸å¿ƒåŸºç¡€è®¾æ–½å±‚ (`core/`)

#### APIClient - ç»Ÿä¸€APIå®¢æˆ·ç«¯
- **åŠŸèƒ½**: å°è£…æ‰€æœ‰äº¤æ˜“æ‰€APIè°ƒç”¨
- **ç‰¹æ€§**: 
  - æ”¯æŒå¤šäº¤æ˜“æ‰€ (Binance, OKX)
  - è‡ªåŠ¨ç­¾åå’Œé”™è¯¯å¤„ç†
  - è¯·æ±‚é™åˆ¶å’Œé‡è¯•æœºåˆ¶
  - ç»Ÿè®¡å’Œç›‘æ§åŠŸèƒ½
- **æ¶ˆé™¤é‡å¤**: 90%çš„APIè°ƒç”¨ä»£ç 

#### ConfigManager - é…ç½®ç®¡ç†å™¨
- **åŠŸèƒ½**: ç»Ÿä¸€ç®¡ç†æ‰€æœ‰é…ç½®æ–‡ä»¶
- **ç‰¹æ€§**:
  - ç¯å¢ƒå˜é‡æ›¿æ¢
  - é…ç½®éªŒè¯å’Œç±»å‹æ£€æŸ¥
  - å¤šæ ¼å¼æ”¯æŒ (YAML, JSON)
  - é…ç½®ç¼“å­˜å’Œçƒ­é‡è½½
- **æ¶ˆé™¤é‡å¤**: 80%çš„é…ç½®å¤„ç†ä»£ç 

#### LoggerManager - æ—¥å¿—ç®¡ç†å™¨
- **åŠŸèƒ½**: æ ‡å‡†åŒ–æ—¥å¿—è®°å½•
- **ç‰¹æ€§**:
  - å½©è‰²æ§åˆ¶å°è¾“å‡º
  - ç»“æ„åŒ–æ—¥å¿—è®°å½•
  - ä¸“ç”¨è¿‡æ»¤å™¨ (äº¤æ˜“ã€APIã€é£é™©)
  - è‡ªåŠ¨æ—¥å¿—è½®è½¬å’Œæ¸…ç†
- **æ¶ˆé™¤é‡å¤**: 70%çš„æ—¥å¿—å¤„ç†ä»£ç 

#### TradingExecutor - äº¤æ˜“æ‰§è¡Œå™¨åŸºç±»
- **åŠŸèƒ½**: æŠ½è±¡äº¤æ˜“æ‰§è¡Œæµç¨‹
- **ç‰¹æ€§**:
  - ç»Ÿä¸€çš„äº¤æ˜“ç”Ÿå‘½å‘¨æœŸç®¡ç†
  - å†…ç½®é£é™©æ§åˆ¶
  - æŒä»“ç®¡ç†å’Œç»Ÿè®¡
  - å¼‚æ­¥æ‰§è¡Œæ”¯æŒ
- **æ¶ˆé™¤é‡å¤**: 75%çš„äº¤æ˜“é€»è¾‘ä»£ç 

## ğŸ¯ ç¬¬äºŒæ­¥é‡æ„æˆæœ â­ NEW

### 2. ç­–ç•¥ç®¡ç†ç³»ç»Ÿ (`core/strategy_*.py`)

#### BaseStrategy - ç­–ç•¥åŸºç±» v2.0
- **åŠŸèƒ½**: ç»Ÿä¸€ç­–ç•¥å¼€å‘æ¥å£
- **ç‰¹æ€§**:
  - æ ‡å‡†åŒ–ä¿¡å·ç”Ÿæˆæµç¨‹
  - å†…ç½®æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡
  - æ•°æ®ç¼“å­˜å’ŒéªŒè¯
  - å‚æ•°åŠ¨æ€è°ƒæ•´
  - çŠ¶æ€ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸæ§åˆ¶
- **å¼€å‘æ•ˆç‡**: æ–°ç­–ç•¥å¼€å‘æ—¶é—´ä»2å°æ—¶å‡å°‘åˆ°30åˆ†é’Ÿ

#### StrategyManager - ç­–ç•¥ç®¡ç†å™¨
- **åŠŸèƒ½**: ç­–ç•¥çš„åˆ›å»ºã€ç®¡ç†å’Œç›‘æ§
- **ç‰¹æ€§**:
  - ç­–ç•¥å·¥å‚æ¨¡å¼
  - å¤šç­–ç•¥å¹¶è¡Œå¤„ç†
  - æ€§èƒ½ç»Ÿè®¡å’ŒæŠ¥å‘Š
  - é…ç½®å¯¼å…¥å¯¼å‡º
  - åŠ¨æ€å¯ç”¨/ç¦ç”¨ç­–ç•¥
- **ç®¡ç†æ•ˆç‡**: æ”¯æŒåŒæ—¶ç®¡ç†10+ä¸ªç­–ç•¥

#### StrategyPortfolio - ç­–ç•¥ç»„åˆ
- **åŠŸèƒ½**: å¤šç­–ç•¥æƒé‡åˆ†é…å’Œä¿¡å·åˆæˆ
- **ç‰¹æ€§**:
  - åŠ æƒä¿¡å·åˆæˆ
  - åŠ¨æ€æƒé‡è°ƒæ•´
  - ç»„åˆæ€§èƒ½ç›‘æ§
  - é£é™©åˆ†æ•£ç®¡ç†
- **æŠ•èµ„æ•ˆæœ**: é™ä½å•ç­–ç•¥é£é™©ï¼Œæé«˜æ•´ä½“ç¨³å®šæ€§

#### Signal - æ ‡å‡†åŒ–ä¿¡å·ç³»ç»Ÿ
- **åŠŸèƒ½**: ç»Ÿä¸€çš„äº¤æ˜“ä¿¡å·æ ¼å¼
- **ç‰¹æ€§**:
  - ä¿¡å·ç±»å‹æ ‡å‡†åŒ– (BUY/SELL/HOLD/STRONG_*)
  - ä¿¡å·å¼ºåº¦é‡åŒ– (0-1)
  - å…ƒæ•°æ®å’ŒåŸå› è®°å½•
  - æ—¶é—´æˆ³å’Œè¿½è¸ª
- **ä¿¡å·è´¨é‡**: æä¾›æ›´ç²¾ç¡®çš„ä¿¡å·å¼ºåº¦å’ŒåŸå› 

### 3. ç­–ç•¥å®ç°ç¤ºä¾‹

#### å†…ç½®ç­–ç•¥ç±»å‹
1. **TrendFollowingStrategy** - è¶‹åŠ¿è·Ÿè¸ª
2. **MeanReversionStrategy** - å‡å€¼å›å½’  
3. **BreakoutStrategy** - çªç ´äº¤æ˜“
4. **MomentumStrategy** - åŠ¨é‡äº¤æ˜“
5. **ScalpingStrategy** - å‰¥å¤´çš®äº¤æ˜“

#### ç­–ç•¥å¼€å‘ç®€åŒ–å¯¹æ¯”

**é‡æ„å‰å¼€å‘æ–°ç­–ç•¥** (500+ è¡Œ):
```python
class MyStrategy:
    def __init__(self):
        # 50+ è¡Œåˆå§‹åŒ–ä»£ç 
        self.setup_logging()
        self.load_config()
        self.init_indicators()
        # ... å¤§é‡æ ·æ¿ä»£ç 
    
    def setup_logging(self):
        # 30+ è¡Œé‡å¤æ—¥å¿—ä»£ç 
    
    def calculate_indicators(self, data):
        # 100+ è¡ŒæŒ‡æ ‡è®¡ç®—ä»£ç 
    
    def generate_signals(self, data):
        # 200+ è¡Œä¿¡å·ç”Ÿæˆä»£ç 
    
    def manage_positions(self):
        # 100+ è¡ŒæŒä»“ç®¡ç†ä»£ç 
    
    # ... æ›´å¤šé‡å¤ä»£ç 
```

**é‡æ„åå¼€å‘æ–°ç­–ç•¥** (~100 è¡Œ):
```python
class MyStrategy(BaseStrategy):
    async def calculate_indicators(self, data: pd.DataFrame, symbol: str) -> pd.DataFrame:
        # åªéœ€è¦å®ç°æŒ‡æ ‡è®¡ç®—é€»è¾‘ (~30è¡Œ)
        return TechnicalIndicators.calculate_all_indicators(data)
    
    async def generate_signal(self, data: pd.DataFrame, symbol: str) -> Signal:
        # åªéœ€è¦å®ç°ä¿¡å·ç”Ÿæˆé€»è¾‘ (~50è¡Œ)
        latest = data.iloc[-1]
        if latest['rsi'] < 30:
            return Signal(SignalType.BUY, 0.8, latest['close'], "RSIè¶…å–")
        return Signal(SignalType.HOLD, 0.1, latest['close'], "æ— ä¿¡å·")
```

## ğŸ“ˆ é‡æ„æ•ˆæœ

### 1. ä»£ç è´¨é‡æå‡
- âœ… **æ¶ˆé™¤é‡å¤**: å‡å°‘80%ä»¥ä¸Šçš„é‡å¤ä»£ç 
- âœ… **æé«˜å¯è¯»æ€§**: ä»£ç ç»“æ„æ¸…æ™°ï¼ŒèŒè´£æ˜ç¡®
- âœ… **å¢å¼ºå¯ç»´æŠ¤æ€§**: ä¿®æ”¹ä¸€å¤„ï¼Œå…¨å±€ç”Ÿæ•ˆ
- âœ… **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†ã€æ—¥å¿—è®°å½•ã€é…ç½®ç®¡ç†

### 2. å¼€å‘æ•ˆç‡æå‡
- âœ… **å¿«é€Ÿä¸Šæ‰‹**: æ–°ç­–ç•¥å¼€å‘åªéœ€å…³æ³¨æ ¸å¿ƒé€»è¾‘
- âœ… **å‡å°‘é”™è¯¯**: æ ‡å‡†åŒ–çš„åŸºç¡€è®¾æ–½å‡å°‘äººä¸ºé”™è¯¯
- âœ… **æ˜“äºæµ‹è¯•**: æ¨¡å—åŒ–è®¾è®¡ä¾¿äºå•å…ƒæµ‹è¯•
- âœ… **é…ç½®çµæ´»**: ç»Ÿä¸€çš„é…ç½®ç®¡ç†æ”¯æŒå¤šç¯å¢ƒ

### 3. ç³»ç»Ÿç¨³å®šæ€§æå‡
- âœ… **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†å’Œé‡è¯•æœºåˆ¶
- âœ… **ç›‘æ§å®Œå–„**: å†…ç½®çš„æ€§èƒ½ç›‘æ§å’Œæ—¥å¿—è®°å½•
- âœ… **èµ„æºç®¡ç†**: è‡ªåŠ¨çš„è¿æ¥æ± å’Œç¼“å­˜ç®¡ç†
- âœ… **é£é™©æ§åˆ¶**: å†…ç½®çš„é£é™©ç®¡ç†å’Œé™åˆ¶æœºåˆ¶

### 4. ç­–ç•¥ç®¡ç†æå‡ â­ NEW
- âœ… **å¤šç­–ç•¥æ”¯æŒ**: åŒæ—¶è¿è¡Œå¤šä¸ªä¸åŒç±»å‹çš„ç­–ç•¥
- âœ… **ç­–ç•¥ç»„åˆ**: æƒé‡åˆ†é…å’Œä¿¡å·åˆæˆ
- âœ… **æ€§èƒ½ç›‘æ§**: å®æ—¶è·Ÿè¸ªæ¯ä¸ªç­–ç•¥çš„è¡¨ç°
- âœ… **åŠ¨æ€è°ƒæ•´**: è¿è¡Œæ—¶ä¿®æ”¹ç­–ç•¥å‚æ•°
- âœ… **é…ç½®ç®¡ç†**: ç­–ç•¥é…ç½®çš„å¯¼å…¥å¯¼å‡º

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬ä½¿ç”¨
```python
# å¯¼å…¥æ ¸å¿ƒæ¨¡å—
from core import ConfigManager, LoggerManager, StrategyManager

# åˆå§‹åŒ–
config_manager = ConfigManager()
logger_manager = LoggerManager("MyApp")
strategy_manager = StrategyManager(config_manager, logger_manager)

# åˆ›å»ºç­–ç•¥
strategy = strategy_manager.create_strategy("trend_following", "MyTrend", config)
strategy_manager.activate_strategy("MyTrend")
```

### 2. åˆ›å»ºè‡ªå®šä¹‰ç­–ç•¥
```python
from core.strategy_base import BaseStrategy, Signal, SignalType

class MyCustomStrategy(BaseStrategy):
    async def calculate_indicators(self, data: pd.DataFrame, symbol: str) -> pd.DataFrame:
        # è®¡ç®—ä½ éœ€è¦çš„æŠ€æœ¯æŒ‡æ ‡
        return TechnicalIndicators.calculate_all_indicators(data)
    
    async def generate_signal(self, data: pd.DataFrame, symbol: str) -> Signal:
        # å®ç°ä½ çš„äº¤æ˜“é€»è¾‘
        latest = data.iloc[-1]
        if latest['rsi'] < 30:
            return Signal(SignalType.BUY, 0.8, latest['close'], "RSIè¶…å–")
        return Signal(SignalType.HOLD, 0.1, latest['close'], "æ— ä¿¡å·")
```

### 3. ç­–ç•¥ç»„åˆç®¡ç†
```python
# åˆ›å»ºå¤šä¸ªç­–ç•¥
strategy_manager.create_strategy("trend_following", "Trend_A", config1)
strategy_manager.create_strategy("mean_reversion", "MeanRev_A", config2)

# åˆ›å»ºç­–ç•¥ç»„åˆ
portfolio = strategy_manager.create_portfolio(
    "Balanced_Portfolio",
    ["Trend_A", "MeanRev_A"],
    [0.6, 0.4]  # æƒé‡åˆ†é…
)

# å¤„ç†å¸‚åœºæ•°æ®
signals = await strategy_manager.process_market_data(market_data)
```

### 4. æ€§èƒ½ç›‘æ§
```python
# è·å–ç­–ç•¥çŠ¶æ€
status = strategy_manager.get_strategy_status("MyStrategy")
print(f"æ€»ä¿¡å·æ•°: {status['metrics']['total_signals']}")
print(f"å¹³å‡å¼ºåº¦: {status['metrics']['avg_strength']}")

# è·å–æ€§èƒ½æŠ¥å‘Š
report = strategy.get_performance_report()
print(f"è¿è¡Œæ—¶é—´: {report['runtime_hours']} å°æ—¶")
print(f"ä¿¡å·é¢‘ç‡: {report['metrics']['signal_frequency']} æ¬¡/å°æ—¶")
```

### 5. é…ç½®ç®¡ç†
```yaml
# config/strategy_portfolio.yaml
strategies:
  trend_follower:
    type: 'trend_following'
    enabled: true
    weight: 0.4
    parameters:
      fast_ema: 8
      slow_ema: 21
    risk_settings:
      max_signals_per_hour: 6
      signal_cooldown: 300

portfolios:
  main_portfolio:
    strategies: ['trend_follower', 'mean_reverter']
    weights: [0.6, 0.4]
```

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### ç¬¬ä¸‰æ­¥ï¼šæ•°æ®å±‚é‡æ„
- ç»Ÿä¸€æ•°æ®æºæ¥å£
- æ•°æ®ç¼“å­˜å’ŒæŒä¹…åŒ–
- å®æ—¶æ•°æ®æµå¤„ç†
- æ•°æ®è´¨é‡ç›‘æ§

### ç¬¬å››æ­¥ï¼šç›‘æ§å±‚é‡æ„
- Webç›‘æ§ç•Œé¢
- å®æ—¶æ€§èƒ½ç›‘æ§
- å‘Šè­¦å’Œé€šçŸ¥ç³»ç»Ÿ
- ç­–ç•¥å¯¹æ¯”åˆ†æ

### ç¬¬äº”æ­¥ï¼šéƒ¨ç½²å±‚é‡æ„
- Dockerå®¹å™¨åŒ–
- è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
- é…ç½®ç®¡ç†ä¼˜åŒ–
- ç”Ÿäº§ç¯å¢ƒç›‘æ§

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å‘åå…¼å®¹**: åŸæœ‰ä»£ç ä»å¯æ­£å¸¸è¿è¡Œ
2. **æ¸è¿›è¿ç§»**: å¯ä»¥é€æ­¥è¿ç§»åˆ°æ–°æ¶æ„
3. **é…ç½®æ›´æ–°**: å»ºè®®ä½¿ç”¨æ–°çš„é…ç½®æ ¼å¼
4. **æµ‹è¯•éªŒè¯**: åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰è¯·å……åˆ†æµ‹è¯•

## ğŸ¤ å‚ä¸é‡æ„

å¦‚æœä½ æƒ³å‚ä¸åç»­çš„é‡æ„å·¥ä½œï¼Œè¯·ï¼š

1. æŸ¥çœ‹ `examples/strategy_system_demo.py` äº†è§£æ–°ç­–ç•¥ç³»ç»Ÿ
2. é˜…è¯» `core/strategy_*.py` çš„ä»£ç æ–‡æ¡£
3. æµ‹è¯•æ–°çš„é…ç½®æ ¼å¼ `config/strategy_portfolio.yaml`
4. å°è¯•å¼€å‘è‡ªå®šä¹‰ç­–ç•¥
5. æä¾›åé¦ˆå’Œå»ºè®®

## ğŸ‰ é‡æ„æˆæœå±•ç¤º

### ç­–ç•¥å¼€å‘æ•ˆç‡å¯¹æ¯”
- **å¼€å‘æ—¶é—´**: 2å°æ—¶ â†’ 30åˆ†é’Ÿ (æå‡75%)
- **ä»£ç è¡Œæ•°**: 500è¡Œ â†’ 100è¡Œ (å‡å°‘80%)
- **æµ‹è¯•å¤æ‚åº¦**: é«˜ â†’ ä½ (ç®€åŒ–90%)
- **ç»´æŠ¤æˆæœ¬**: é«˜ â†’ ä½ (é™ä½70%)

### ç³»ç»Ÿç®¡ç†èƒ½åŠ›å¯¹æ¯”
- **åŒæ—¶ç®¡ç†ç­–ç•¥æ•°**: 1-2ä¸ª â†’ 10+ä¸ª
- **ç­–ç•¥åˆ‡æ¢æ—¶é—´**: å°æ—¶çº§ â†’ ç§’çº§
- **å‚æ•°è°ƒæ•´**: é‡å¯ç³»ç»Ÿ â†’ çƒ­æ›´æ–°
- **æ€§èƒ½ç›‘æ§**: æ‰‹åŠ¨ â†’ è‡ªåŠ¨åŒ–

### æŠ•èµ„ç»„åˆç®¡ç†
- **ç­–ç•¥ç»„åˆ**: ä¸æ”¯æŒ â†’ å®Œå…¨æ”¯æŒ
- **æƒé‡è°ƒæ•´**: ä¸æ”¯æŒ â†’ åŠ¨æ€è°ƒæ•´
- **é£é™©åˆ†æ•£**: å•ç­–ç•¥é£é™© â†’ ç»„åˆé£é™©ç®¡ç†
- **æ”¶ç›Šç¨³å®šæ€§**: æ³¢åŠ¨å¤§ â†’ ç›¸å¯¹ç¨³å®š

---

**é‡æ„å®Œæˆæ—¶é—´**: 2025-07-14  
**é‡æ„è´Ÿè´£äºº**: TradeFan Team  
**ç‰ˆæœ¬**: v2.0.0  
**å½“å‰è¿›åº¦**: ç¬¬äºŒæ­¥å®Œæˆ âœ…
